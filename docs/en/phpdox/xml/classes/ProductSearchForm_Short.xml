<?xml version="1.0" encoding="UTF-8"?>
<class xmlns="http://xml.phpdox.net/src#" full="ProductSearchForm_Short" namespace="" name="ProductSearchForm_Short" abstract="false" final="false" start="359" end="371">
  <file path="./../../../code/forms" file="ProductSearchForm.php" realpath="/var/www/3.1.silverstripe-ecommerce.com/ecommerce/code/forms/ProductSearchForm.php" size="11649" time="2014-05-06T13:22:04+12:00" unixtime="1399339324" sha1="f6d829f348cef2c24eb369873f318bcc6a3b2588"/>
  <extends full="ProductSearchForm" namespace="" name="ProductSearchForm"/>
  <constructor name="__construct" start="361" end="369" abstract="false" final="false" static="false" visibility="public">
    <parameter name="controller" byreference="false" type="{unknown}"/>
    <parameter name="name" byreference="false" type="{unknown}"/>
    <parameter name="nameOfProductsBeingSearched" byreference="false" type="string" default="&quot;&quot;"/>
    <parameter name="productsToSearch" byreference="false" type="{unknown}" default="null"/>
  </constructor>
  <parent full="ProductSearchForm" namespace="" name="ProductSearchForm">
    <extends full="Form" namespace="" name="Form"/>
    <member name="additionalFields" type="array" visibility="protected" line="28">
      <docblock>
        <description compact="list of additional fields to add to search">Additional fields array is formatted as follows:
array(
 "FormField" =&gt; Field,
 "DBField" =&gt; Acts On / Searches,
 "FilterUsed" =&gt; SearchFilter
);
e.g.
array(
 [1] =&gt; array(
   "FormField" =&gt; new TextField("MyDatabaseField", "Keyword"),
   "DBField" =&gt; "MyDatabaseField",
   "FilterUsed" =&gt; "PartialMatchFilter"
  )
);</description>
        <var type="object">
          <type full="Array" namespace="" name="Array"/>
        </var>
      </docblock>
    </member>
    <member name="productsToSearch" type="{unknown}" default="null" visibility="protected" line="34">
      <docblock>
        <description compact="list of products that need to be searched"/>
        <var description="| Array | Datalist" type="object">
          <type full="NULL" namespace="" name="NULL"/>
        </var>
      </docblock>
    </member>
    <member name="baseClassNameForBuyables" type="string" default="&quot;&quot;" visibility="protected" line="43">
      <docblock>
        <description compact="class name of the buyables to search at this stage, you can only search one type of buyable at any one time e.g. only products or only mydataobject"/>
        <var type="string"/>
      </docblock>
    </member>
    <member name="useBooleanSearch" type="{unknown}" default="true" visibility="protected" line="50">
      <docblock>
        <description compact="this is mysql specific, see: https://dev.mysql.com/doc/refman/5.0/en/fulltext-boolean.html"/>
        <var type="object">
          <type full="Boolean" namespace="" name="Boolean"/>
        </var>
      </docblock>
    </member>
    <member name="extraBuyableFieldsToSearchFullText" type="array" visibility="protected" line="56">
      <docblock>
        <description compact="List of additional fields that should be searched full text."/>
        <var type="object">
          <type full="Array" namespace="" name="Array"/>
        </var>
      </docblock>
    </member>
    <member name="maximumNumberOfResults" type="integer" default="100" visibility="protected" line="65">
      <docblock>
        <description compact="Maximum number of results to return we limit this because otherwise the system will choke the assumption is that no user is really interested in looking at tons of results"/>
        <var type="object">
          <type full="Int" namespace="" name="Int"/>
        </var>
      </docblock>
    </member>
    <member name="controllerSearchResultDisplayMethod" type="string" default="&quot;searchresults&quot;" visibility="protected" line="72">
      <docblock>
        <description compact="The method on the parent controller that can display the results of the search results"/>
        <var type="object">
          <type full="String" namespace="" name="String"/>
        </var>
      </docblock>
    </member>
    <member name="resultArray" type="array" visibility="protected" line="78">
      <docblock>
        <description compact="array of IDs of the results found so far"/>
        <var type="object">
          <type full="Array" namespace="" name="Array"/>
        </var>
      </docblock>
    </member>
    <member name="resultArrayPos" type="integer" default="0" visibility="protected" line="84">
      <docblock>
        <description compact="Number of results found so far"/>
        <var type="object">
          <type full="Int" namespace="" name="Int"/>
        </var>
      </docblock>
    </member>
    <method name="setControllerSearchResultDisplayMethod" start="87" end="89" abstract="false" final="false" static="false" visibility="public">
      <parameter name="s" byreference="false" type="{unknown}"/>
    </method>
    <method name="setExtraBuyableFieldsToSearchFullText" start="91" end="93" abstract="false" final="false" static="false" visibility="public">
      <parameter name="a" byreference="false" type="{unknown}"/>
    </method>
    <method name="setBaseClassNameForBuyables" start="95" end="97" abstract="false" final="false" static="false" visibility="public">
      <parameter name="s" byreference="false" type="{unknown}"/>
    </method>
    <method name="setUseBooleanSearch" start="99" end="101" abstract="false" final="false" static="false" visibility="public">
      <parameter name="b" byreference="false" type="{unknown}"/>
    </method>
    <method name="addAdditionalField" start="103" end="110" abstract="false" final="false" static="false" visibility="public">
      <parameter name="formField" byreference="false" type="{unknown}"/>
      <parameter name="dbField" byreference="false" type="{unknown}"/>
      <parameter name="filterUsed" byreference="false" type="{unknown}"/>
    </method>
    <constructor name="__construct" start="122" end="161" abstract="false" final="false" static="false" visibility="public">
      <docblock>
        <description compact="ProductsToSearch can be left blank to search all products"/>
        <param description="- associated controller" type="object" variable="$controller">
          <type full="Controller" namespace="" name="Controller"/>
        </param>
        <param description="- name of form" type="object" variable="$name">
          <type full="String" namespace="" name="String"/>
        </param>
        <param description="- name of the products being search (also see productsToSearch below)" type="object" variable="$nameOfProductsBeingSearched">
          <type full="String" namespace="" name="String"/>
        </param>
        <param description="| Array | Null $productsToSearch  (see comments above)" type="object">
          <type full="DataList" namespace="" name="DataList"/>
        </param>
      </docblock>
      <parameter name="controller" byreference="false" type="{unknown}"/>
      <parameter name="name" byreference="false" type="{unknown}"/>
      <parameter name="nameOfProductsBeingSearched" byreference="false" type="string" default="&quot;&quot;"/>
      <parameter name="productsToSearch" byreference="false" type="{unknown}" default="null"/>
      <inline>
        <comment value="set basics" line="124"/>
        <comment value="extensions need to be set after __construct" line="151"/>
      </inline>
    </constructor>
    <method name="doProductSearchForm" start="163" end="299" abstract="false" final="false" static="false" visibility="public">
      <parameter name="data" byreference="false" type="{unknown}"/>
      <parameter name="form" byreference="false" type="{unknown}"/>
      <inline>
        <comment value="what is the baseclass?" line="165"/>
        <comment value="basic get" line="173"/>
        <comment value="KEYWORD SEARCH - only bother if we have any keywords and results at all ..." line="188"/>
        <comment value="1) Exact search by code" line="201"/>
        <comment value="2) Search of the entire keyword phrase and its replacements" line="216"/>
        <comment value="find all keywords ..." line="220"/>
        <comment value="work out searches" line="237"/>
        <comment value="we search exact matches first then other matches ..." line="240"/>
        <comment value="3) Do the same search for Product Group names" line="258"/>
      </inline>
    </method>
    <method name="getSearchArrays" start="332" end="346" abstract="false" final="false" static="false" visibility="protected">
      <docblock>
        <description compact="creates three levels of searches that can be executed one after the other, each being less specific than the last..."/>
        <param description="- words being search" type="object" variable="$words">
          <type full="Array" namespace="" name="Array"/>
        </param>
        <param description="- fields being searched" type="object" variable="$fields">
          <type full="Array" namespace="" name="Array"/>
        </param>
        <return type="object">
          <type full="Array" namespace="" name="Array"/>
        </return>
      </docblock>
      <parameter name="words" byreference="false" type="{unknown}"/>
      <parameter name="fields" byreference="false" type="array"/>
      <inline>
        <comment value="make three levels of search" line="333"/>
        <comment value="a) Exact match" line="337"/>
      </inline>
    </method>
    <method name="saveDataToSession" start="352" end="355" abstract="false" final="false" static="false" visibility="public">
      <docblock>
        <description compact="saves the form into session"/>
        <param description="- data from form." type="object" variable="$data">
          <type full="Array" namespace="" name="Array"/>
        </param>
      </docblock>
    </method>
  </parent>
</class>
