<?xml version="1.0" encoding="UTF-8"?>
<class xmlns="http://xml.phpdox.net/src#" full="EcommerceCurrency" namespace="" name="EcommerceCurrency" abstract="false" final="false" start="11" end="563">
  <file path="./../../../code/model/money" file="EcommerceCurrency.php" realpath="/var/www/3.1.silverstripe-ecommerce.com/ecommerce/code/model/money/EcommerceCurrency.php" size="14448" time="2014-04-19T23:19:18+12:00" unixtime="1397906358" sha1="8874684ff032d3e1f23815c1cfdf3d10ed50f2b5"/>
  <docblock>
    <description compact="Object to manage currencies"/>
    <authors value=": Nicolaas [at] Sunny Side Up .co.nz"/>
    <package value=": ecommerce"/>
    <sub value="-package: money">Precondition : There should always be at least one currency usable.</sub>
  </docblock>
  <extends full="DataObject" namespace="" name="DataObject"/>
  <member name="db" type="array" visibility="private" line="17">
    <docblock>
      <description compact="standard SS variable"/>
      <var type="object">
        <type full="Array" namespace="" name="Array"/>
      </var>
    </docblock>
  </member>
  <member name="indexes" type="array" visibility="private" line="27">
    <docblock>
      <description compact="standard SS variable"/>
      <var type="object">
        <type full="Array" namespace="" name="Array"/>
      </var>
    </docblock>
  </member>
  <member name="casting" type="array" visibility="private" line="35">
    <docblock>
      <description compact="standard SS variable"/>
      <var type="object">
        <type full="Array" namespace="" name="Array"/>
      </var>
    </docblock>
  </member>
  <member name="searchable_fields" type="array" visibility="private" line="49">
    <docblock>
      <description compact="standard SS variable"/>
      <var type="object">
        <type full="Array" namespace="" name="Array"/>
      </var>
    </docblock>
  </member>
  <member name="field_labels" type="array" visibility="private" line="58">
    <docblock>
      <description compact="standard SS variable"/>
      <var type="object">
        <type full="Array" namespace="" name="Array"/>
      </var>
    </docblock>
  </member>
  <member name="summary_fields" type="array" visibility="private" line="74">
    <docblock>
      <description compact="standard SS variable"/>
      <var type="object">
        <type full="Array" namespace="" name="Array"/>
      </var>
    </docblock>
  </member>
  <member name="singular_name" type="string" default="&quot;Currency&quot;" visibility="private" line="86">
    <docblock>
      <description compact="standard SS variable"/>
      <var type="object">
        <type full="String" namespace="" name="String"/>
      </var>
    </docblock>
  </member>
  <method name="i18n_singular_name" start="87" end="87" abstract="false" final="false" static="false" visibility="public"/>
  <member name="plural_name" type="string" default="&quot;Currencies&quot;" visibility="private" line="93">
    <docblock>
      <description compact="standard SS variable"/>
      <var type="object">
        <type full="String" namespace="" name="String"/>
      </var>
    </docblock>
  </member>
  <method name="i18n_plural_name" start="94" end="94" abstract="false" final="false" static="false" visibility="public"/>
  <member name="default_sort" type="string" default="&quot;\&quot;InUse\&quot; DESC, \&quot;Name\&quot; ASC, \&quot;Code\&quot; ASC&quot;" visibility="private" line="100">
    <docblock>
      <description compact="standard SS variable"/>
      <var type="object">
        <type full="String" namespace="" name="String"/>
      </var>
    </docblock>
  </member>
  <member name="defaults" type="array" visibility="private" line="106">
    <docblock>
      <description compact="standard SS variable"/>
      <var type="object">
        <type full="Array" namespace="" name="Array"/>
      </var>
    </docblock>
  </member>
  <method name="canCreate" start="115" end="117" abstract="false" final="false" static="false" visibility="public">
    <docblock>
      <description compact="Standard SS Method"/>
      <param type="object" variable="$member">
        <type full="Member" namespace="" name="Member"/>
      </param>
      <var type="object">
        <type full="Boolean" namespace="" name="Boolean"/>
      </var>
    </docblock>
    <parameter name="member" byreference="false" type="{unknown}" default="null"/>
  </method>
  <method name="canView" start="124" end="126" abstract="false" final="false" static="false" visibility="public">
    <docblock>
      <description compact="Standard SS Method"/>
      <param type="object" variable="$member">
        <type full="Member" namespace="" name="Member"/>
      </param>
      <var type="object">
        <type full="Boolean" namespace="" name="Boolean"/>
      </var>
    </docblock>
    <parameter name="member" byreference="false" type="{unknown}" default="null"/>
  </method>
  <method name="canEdit" start="133" end="141" abstract="false" final="false" static="false" visibility="public">
    <docblock>
      <description compact="Standard SS Method"/>
      <param type="object" variable="$member">
        <type full="Member" namespace="" name="Member"/>
      </param>
      <var type="object">
        <type full="Boolean" namespace="" name="Boolean"/>
      </var>
    </docblock>
    <parameter name="member" byreference="false" type="{unknown}" default="null"/>
  </method>
  <method name="canDelete" start="148" end="150" abstract="false" final="false" static="false" visibility="public">
    <docblock>
      <description compact="Standard SS method"/>
      <param type="object" variable="$member">
        <type full="Member" namespace="" name="Member"/>
      </param>
      <return type="object">
        <type full="Boolean" namespace="" name="Boolean"/>
      </return>
    </docblock>
    <parameter name="member" byreference="false" type="{unknown}" default="null"/>
  </method>
  <method name="ecommerce_currency_list" start="157" end="172" abstract="false" final="false" static="true" visibility="public">
    <docblock>
      <description compact="NOTE: when there is only one currency we return an empty DataList as one currency is meaningless."/>
      <return description="| null" type="object">
        <type full="DataList" namespace="" name="DataList"/>
      </return>
    </docblock>
  </method>
  <method name="get_list" start="174" end="184" abstract="false" final="false" static="true" visibility="public"/>
  <method name="get_money_object_from_order_currency" start="192" end="206" abstract="false" final="false" static="true" visibility="public">
    <docblock>
      <description/>
      <param type="object" variable="$price">
        <type full="Float" namespace="" name="Float"/>
      </param>
      <param type="object" variable="$order">
        <type full="Order" namespace="" name="Order"/>
      </param>
      <return type="object">
        <type full="Money" namespace="" name="Money"/>
      </return>
    </docblock>
    <parameter name="price" byreference="false" type="{unknown}"/>
    <parameter name="order" byreference="false" type="object" default="null">
      <type full="\\Order" namespace="\" name="Order"/>
    </parameter>
  </method>
  <method name="default_currency" start="213" end="222" abstract="false" final="false" static="true" visibility="public">
    <docblock>
      <description compact="returns the default currency"/>
      <return description="| EcommerceCurrency" type="object">
        <type full="NULL" namespace="" name="NULL"/>
      </return>
    </docblock>
  </method>
  <method name="default_currency_id" start="229" end="232" abstract="false" final="false" static="true" visibility="public">
    <docblock>
      <description/>
      <return type="object">
        <type full="Int" namespace="" name="Int"/>
      </return>
    </docblock>
  </method>
  <method name="get_one_from_code" start="240" end="249" abstract="false" final="false" static="true" visibility="public">
    <docblock>
      <description compact="Only returns a currency when it is a valid currency."/>
      <param description="- the code of the currency" type="object" variable="$currencyCode">
        <type full="String" namespace="" name="String"/>
      </param>
      <return description="| Null" type="object">
        <type full="EcommerceCurrency" namespace="" name="EcommerceCurrency"/>
      </return>
    </docblock>
    <parameter name="currencyCode" byreference="false" type="{unknown}"/>
  </method>
  <method name="getCMSFields" start="254" end="269" abstract="false" final="false" static="false" visibility="public">
    <docblock>
      <description compact="STANDARD SILVERSTRIPE STUFF"/>
    </docblock>
  </method>
  <method name="DefaultSymbol" start="271" end="271" abstract="false" final="false" static="false" visibility="public"/>
  <method name="getDefaultSymbol" start="272" end="272" abstract="false" final="false" static="false" visibility="public"/>
  <method name="ShortSymbol" start="274" end="274" abstract="false" final="false" static="false" visibility="public"/>
  <method name="getShortSymbol" start="275" end="275" abstract="false" final="false" static="false" visibility="public"/>
  <method name="LongSymbol" start="277" end="277" abstract="false" final="false" static="false" visibility="public"/>
  <method name="getLongSymbol" start="278" end="278" abstract="false" final="false" static="false" visibility="public"/>
  <method name="IsDefault" start="284" end="284" abstract="false" final="false" static="false" visibility="public">
    <docblock>
      <description compact="casted variable method"/>
      <return type="object">
        <type full="Boolean" namespace="" name="Boolean"/>
      </return>
    </docblock>
  </method>
  <method name="getIsDefault" start="285" end="293" abstract="false" final="false" static="false" visibility="public"/>
  <method name="IsDefaultNice" start="299" end="299" abstract="false" final="false" static="false" visibility="public">
    <docblock>
      <description compact="casted variable method"/>
      <return type="object">
        <type full="String" namespace="" name="String"/>
      </return>
    </docblock>
  </method>
  <method name="getIsDefaultNice" start="300" end="307" abstract="false" final="false" static="false" visibility="public"/>
  <method name="InUseNice" start="313" end="313" abstract="false" final="false" static="false" visibility="public">
    <docblock>
      <description compact="casted variable method"/>
      <return type="object">
        <type full="String" namespace="" name="String"/>
      </return>
    </docblock>
  </method>
  <method name="getInUseNice" start="314" end="321" abstract="false" final="false" static="false" visibility="public"/>
  <method name="ExchangeRate" start="328" end="328" abstract="false" final="false" static="false" visibility="public">
    <docblock>
      <description compact="casted variable"/>
      <return type="object">
        <type full="Double" namespace="" name="Double"/>
      </return>
      <todo value="$className is not used at all here"/>
    </docblock>
  </method>
  <method name="getExchangeRate" start="329" end="333" abstract="false" final="false" static="false" visibility="public"/>
  <method name="ExchangeRateExplanation" start="339" end="339" abstract="false" final="false" static="false" visibility="public">
    <docblock>
      <description compact="casted variable"/>
      <return type="object">
        <type full="String" namespace="" name="String"/>
      </return>
    </docblock>
  </method>
  <method name="getExchangeRateExplanation" start="340" end="349" abstract="false" final="false" static="false" visibility="public"/>
  <method name="IsCurrent" start="354" end="357" abstract="false" final="false" static="false" visibility="public">
    <docblock>
      <description/>
      <return type="object">
        <type full="Boolean" namespace="" name="Boolean"/>
      </return>
    </docblock>
  </method>
  <method name="Link" start="365" end="367" abstract="false" final="false" static="false" visibility="public">
    <docblock>
      <description compact="Returns the link that can be used in the shopping cart to set the preferred currency to this one.">For example: /shoppingcart/setcurrency/nzd/</description>
      <return type="object">
        <type full="String" namespace="" name="String"/>
      </return>
    </docblock>
  </method>
  <method name="LinkingMode" start="373" end="385" abstract="false" final="false" static="false" visibility="public">
    <docblock>
      <description compact="returns the link type"/>
      <return description="(link | default | current)" type="object">
        <type full="String" namespace="" name="String"/>
      </return>
    </docblock>
  </method>
  <method name="validate" start="387" end="409" abstract="false" final="false" static="false" visibility="public">
    <inline>
      <comment value="Check that there are no 2 same code currencies in use" line="398"/>
    </inline>
  </method>
  <method name="populateDefaults" start="415" end="418" abstract="false" final="false" static="false" visibility="public">
    <docblock>
      <description compact="Standard SS Method Adds the default currency"/>
    </docblock>
  </method>
  <method name="onBeforeWrite" start="420" end="430" abstract="false" final="false" static="false" visibility="public">
    <inline>
      <comment value="Check that there is always at least one currency in use" line="422"/>
    </inline>
  </method>
  <method name="requireDefaultRecords" start="436" end="442" abstract="false" final="false" static="false" visibility="public">
    <docblock>
      <description compact="Standard SS Method Adds the default currency"/>
    </docblock>
  </method>
  <method name="create_new" start="444" end="460" abstract="false" final="false" static="true" visibility="public">
    <parameter name="code" byreference="false" type="{unknown}"/>
  </method>
  <method name="debug" start="467" end="469" abstract="false" final="false" static="false" visibility="public">
    <docblock>
      <description compact="Debug helper method.">Can be called from /shoppingcart/debug/</description>
      <return type="object">
        <type full="String" namespace="" name="String"/>
      </return>
    </docblock>
  </method>
  <member name="currencies" type="array" visibility="private" line="471"/>
</class>
